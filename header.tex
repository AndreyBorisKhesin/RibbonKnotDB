\documentclass[twoside]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{fancyhdr}
\usepackage[margin=1in]{geometry}
\usepackage{import}
\usepackage{multicol}
\usepackage[strict]{changepage}
\usepackage{color,colortbl}
\usepackage{tabu}
\usepackage{multirow}
\usepackage{capt-of}
\usepackage{caption}
\usepackage{tikz}
\usetikzlibrary{positioning,matrix,shapes,chains,arrows}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\captionsetup{labelformat=empty,labelsep=none}
\usepackage{graphicx}
\usepackage{gensymb}
\usepackage{siunitx}
\usepackage[americanvoltage, siunitx]{circuitikz}
\usepackage{mathrsfs}
\usepackage{xspace}

\usepgfplotslibrary{external}
\tikzexternalize[prefix=precompiled_figures/]

\usepackage[T1]{fontenc}
\usepackage{mathptmx}

% Indent
\usepackage{indentfirst}
\setlength{\parindent}{0.3in}

% Title section
\pagestyle{fancy}
\thispagestyle{empty}
\renewcommand{\headrulewidth}{0pt}
\newcommand\papertitle[1]{{\centering\fontsize{20pt}{1em}\textsc{#1}\\\mbox{}\\}
\fancyhead[OC]{\fontsize{12pt}{12pt}\selectfont\textit{#1}}}
\newcounter{people}
\newcommand\paperauthortext[4]{{\centering\fontsize{12pt}{1em}\selectfont
\textsc{#1. #2}\\[-0.1em]{\fontsize{9pt}{1em}\selectfont\textit{\vspace{-1.25em}
\phantom{.}\\#3}}\\\mbox{}\\
\fancyhead[EC]{\fontsize{12pt}{12pt}\selectfont\textit{#4}}}}
\newcommand\paperauthor[3]{{\stepcounter{people}
\ifnum\value{people}=1
{\paperauthortext{#1}{#2}{#3}{#1. #2}
\global\def\auth{#2\xspace}}
\else\ifnum\value{people}=2
{\paperauthortext{#1}{#2}{#3}{\auth and #2}}
\else{\paperauthortext{#1}{#2}{#3}{\auth et al}}\fi\fi}}
\newcommand\paperdate[1]{{\centering\fontsize{9pt}{1em}\selectfont\text{
(Received #1)}\\[2em]}}

% Page header
\newcommand{\paperheader}[1]{\fancyhead[EC]{\fontsize{12pt}{12pt}\selectfont
\textit{#1}}}
\fancyhead[RO, EL]{\fontsize{12pt}{12pt}\selectfont\thepage}
\cfoot{}

\makeatletter
\newenvironment{paperadjustwidth}[2]{
  \begin{list}{}{
    \setlength\partopsep\z@
    \setlength\topsep\z@
    \setlength\listparindent\parindent
    \setlength\parsep\parskip
    \linespread{0}\selectfont
    \@ifmtarg{#1}{\setlength{\leftmargin}{\z@}}
                 {\setlength{\leftmargin}{#1}}
    \@ifmtarg{#2}{\setlength{\rightmargin}{\z@}}
                 {\setlength{\rightmargin}{#2}}
    }
    \item[]}{\end{list}}
\makeatother

% Abstract environment
\newenvironment{paperabstract}
{\begin{paperadjustwidth}{0.5in}{0.5in}\bgroup\fontsize{9pt}{1em}\selectfont
\hspace{0.5in}}
{\egroup\end{paperadjustwidth}}

% Report environment
\setlength\columnsep{0.5in}
\newenvironment{paper}
{\begin{multicols*}{2}\bgroup\fontsize{12pt}{13.8pt}\selectfont}
{\egroup\end{multicols*}}

%Sources
\newsavebox{\sourcebox}
\newcommand{\papersource}[1]{
\vspace{-2em}
\text{}\\*
\fontsize{9pt}{10.35}\selectfont
\noindent\renewcommand{\labelenumi}{}
\savebox{\sourcebox}{\parbox{3in}{\begin{enumerate}
%\vspace{-\baselineskip}
\setlength{\leftmargini}{-1ex}
\setlength{\leftmargin}{-1ex}
\setlength{\labelwidth}{0pt}
\setlength{\labelsep}{0pt}
\setlength{\listparindent}{0pt}
\item\textit{\hspace{-0.35in}#1}
\end{enumerate}}}
\usebox{\sourcebox}
}

% Section headers
\newcounter{papersectioncounter}
\newcounter{papersubsectioncounter}[papersectioncounter]
\newcommand\papersection[1]{
\stepcounter{papersectioncounter}
{\begin{center}\Roman{papersectioncounter} \textsc{#1}\end{center}}}
\newcommand\papersubsection[1]{\stepcounter{papersubsectioncounter}
{\begin{center}\Roman{papersectioncounter}.\Roman{papersubsectioncounter}
\textsc{#1}\\[0.5em]\end{center}}}

%equation
\newcounter{paperequationcounter}
\newcommand\paperequation[3]{{
\stepcounter{paperequationcounter}
\mbox{}\vspace{-0.75em}
\begin{equation*}
#1
\tag*{\fontsize{12pt}{1em}\selectfont
$\begin{array}{r}
\cr{\text{[\arabic{paperequationcounter}]}}
\cr{\fontsize{9pt}{1em}\selectfont\textit{\ifx\\#2\\~\else(\fi#2\ifx\\#2\\~
\else)\fi}}
\end{array}$}
\end{equation*}
}
\expandafter\edef\csname eq#3\endcsname{[\arabic{paperequationcounter}]\noexpand
\xspace}}

% Where
\newcommand{\paperwherevar}[3]{&$#1$ & #2 \ifx\\#3\\~\else($\smash{\text{\si{\fi
#3\ifx\\#3\\~\else}}}$)\fi\\}
\newenvironment{paperwhere}
{\bgroup\fontsize{9pt}{9pt}\selectfont Where:\vspace{2pt}\\\begin{tabular}
{rr@{ = }p{2.42in}}}
{\end{tabular}\egroup\vspace{5pt}}

% Tables
\definecolor{LineGray}{gray}{0.5}
\newtabulinestyle{outer=2.25pt LineGray}
\newtabulinestyle{inner=0.75pt LineGray}
\tabulinesep=1.5pt

\newcommand{\paperiline}[0]{\tabucline[inner]{-}}
\newcommand{\paperoline}[0]{\tabucline[outer]{-}}

% Index column type
\newcolumntype{I}{X[-5,c]}
% Column type with uncertainty
\newcolumntype{U}{@{}X[-5,r]@{$\pm$}X[-5,l]@{}}
% Column type without uncertainty
\newcolumntype{C}{@{}X[-5,c]@{}}

\newcounter{papertableindexcounter}
\newcommand{\papertableindexheader}[0]{\multirow{2}{*}{\textsc{Index}}}
\newcommand{\papertableindex}[0]{\stepcounter{papertableindexcounter}
\arabic{papertableindexcounter}}
\newcommand{\papertableuheadersymbol}[1]{&\multicolumn{2}{c|[inner]}{$#1$}}
\newcommand{\papertableuheadersymbole}[1]{&\multicolumn{2}{c|[outer]}{$#1$}}
\newcommand{\papertableuheaderunit}[1]{&\multicolumn{2}{c|[inner]}{(#1)}}
\newcommand{\papertableuheaderunite}[1]{&\multicolumn{2}{c|[outer]}{(#1)}}

\newcommand{\papertablecheadersymbol}[1]{&$#1$}
\newcommand{\papertablecheaderunit}[2]{&($\pm$#1 #2)}

% Value in table with uncertainty.
\newcommand{\papertableuval}[2]{& #1 & #2}
% Value in table without uncertainty.
\newcommand{\papertablecval}[1]{& #1}

\newenvironment{papertable}[1]
{\setcounter{papertableindexcounter}{0} 
\begin{tabu} to \linewidth {#1}}
{\end{tabu}\vspace{12pt}}

%Figure counter
\newcounter{paperfigurecounter}
\newcommand{\papercaption}[1]{
\vspace{-24pt}
\bgroup
\stepcounter{paperfigurecounter}
\captionof{figure}{\fontsize{9pt}{9pt}\selectfont
\hspace{0.3in}Fig \arabic{paperfigurecounter}. #1}\egroup}

\newcommand{\paperaxis}[9]
{title=#1,
axis x line = bottom,
xmin=#4,xmax=#6,
axis y line = left,
ymin=#5,ymax=#7,
height = 180pt,
grid=both,
x axis line style=-,
y axis line style=-,
x tick label style={
/pgf/number format/.cd,
fixed,
fixed zerofill,
precision=#8,
/tikz/.cd
},
y tick label style={
/pgf/number format/.cd,
fixed,
fixed zerofill,
precision=#9,
/tikz/.cd
}
}
\newcommand{\paperaxisxlabel}[2]{
xlabel=\fontsize{10pt}{1em}\selectfont#1$(#2)\rightarrow$}
\newcommand{\paperaxisylabel}[2]{
ylabel=\fontsize{10pt}{1em}\selectfont#1$(#2)\rightarrow$}
\newcommand{\papergraphoutline}[4]{
\addplot [mark=none,line width=0.75pt] coordinates {
(#1,#2)
(#1,#4)
(#3,#4)
(#3,#2)
(#1,#2)
};}

\newenvironment{papergraph}{
\begin{tikzpicture}
\begin{axis}
}
{\end{axis}
\end{tikzpicture}}

\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\oo}[0]{\infty}
\newcommand{\sigmaSum}[3]{\sum\limits_{#1}^{#2} #3}
\newcommand{\limto}[3]{\lim\limits_{#1\rightarrow#2}#3}
\renewcommand{\d}[0]{\mathrm{d}}
\newcommand{\cross}[0]{\times}
\newcommand{\lp}{\left(}
\newcommand{\rp}{\right)}
\newcommand\pars[1]{\lp#1\rp}
\newcommand\sqbrack[1]{\left[#1\right]}
\newcommand\R{\mathbb{R}}
\newcommand\di{\partial}
\newcommand\x{\times}
\newcommand\del{\nabla}
